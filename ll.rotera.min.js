(function(a){a.fn.llrotatingfour=function(b,c,d){function k(a,c){switch(c){case 1:offsetleft=e;offsettop=0;break;case 2:offsetleft=h+e*3;offsettop=0;break;case 3:offsetleft=h+e*3;offsettop=i+e*2;break;case 4:offsetleft=e;offsettop=i+e*2;break}if(b){a.css({marginTop:offsettop,marginLeft:offsetleft})}else{a.animate({marginTop:offsettop,marginLeft:offsetleft},f)}}var e=10;var f=600;if(b){d=this.find(":nth-child(1)")}else{d=d}var g=parseInt(d.attr("data-position"));var h=this.find(":nth-child(1)").width();var i=this.find(":nth-child(1)").height();this.width(h*2+e*4).height(i*2+e*2);var j=this.children().length;var l;this.children().each(function(d){var e;var h=0;switch(g){case 1:e=0;break;case 2:e=3;break;case 3:e=2;break;case 4:e=1;break}do{var i=parseInt(a(this).attr("data-position"));if(!b&&g!=1){i++;if(i>=5)i=1;a(this).attr("data-position",i)}if(b||g!=1)k(a(this),i);h++;if(!b){if(h==e||g==1){clearTimeout(l);l=setTimeout(function(){a("#active-rotate .arrow").show().css({marginTop:15}).animate({marginTop:2},200,function(){a("html,body").animate({scrollTop:0},400,function(){a("#rotateWrap").removeClass("rotating")})});if(typeof c=="function")c()},f*e)}}}while(h<e)})}})(jQuery)